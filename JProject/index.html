<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <!--<script>-->
        <!--function myFunction()-->
        <!--{-->
            <!--document.getElementById("demo").innerHTML="My First JavaScript Function"-->
        <!--}-->
    <!--</script>-->

    <!--//ajax-->
    <script type="text/javascript" src="jquery-2.1.3.min.js"></script>
    <script type="text/javascript">

        function loadXMLDoc()
        {
            var xmlhttp;
            if(Window.XMLHttpRequest)
            {//code for IE7+,Firefox, Chrome, Opera, Safari
                xmlhttp = new XMlHttpRequest();
            }
            else
            {//code for IE6,IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }

            xmlhttp.onreadystatechange=function()
            {
                if(xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                    document.getElementById("myDiv").innerHTML = xmlhttp.responseText;
                }
            }

            xmlhttp.open("GET", "/ajax/demo_get.asp", true);
            xmlhttp.send();
        }

        function favourites()
        {
            alert("已执行！！！");
            console.log("已执行！！！");
            var data = {url:"http://web.newsapp.cibntv.net/app/play/?id=566389", name:"全球视讯"};

            window.external.AddFavorite(data.url, data.name);
//                if(document.all)
//                {
//                    console.log("Internet:"+document.all);
//                    window.external.AddFavorite(data.url, data.name);
//                }
//                else if(window.sidebar)
//                {
//                    console.log("Google:"+window.sidebar);
//                    window.sidebar.addPanel(data.url, data.name);
//                }

        }

        //        favourites({url:"http://web.newsapp.cibntv.net/app/play/?id=566389", name:"全球视讯"});

        $(function(){

            $("button").click(function(){
                favourites();
                console.log("Click success!!!");
            })
        })

//        function myFunction()
//        {
//            loadXMLDoc("ajax_info.txt", function()
//            {
//
//            })
//        }
        if(typeof FileReader  == "undefined")
        {
            alert("您的浏览器老的不行了!");
        }

        function showDataByURL()
        {
            var resultFile = document.getElementById("fileDemo").files[0];
            if(resultFile)
            {
                var urlData = this.result;
                document.getElementById("result").innerHTML += "<img src='"+urlData+"' alt='"+resultFile.name+"'/>";
            }
        }

        function showDataByBinaryString()
        {
            var resultFile = $("fileDemo").files[0];
            if(resultFile)
            {
                var reader = new FileReader();
                //异步方式，不会影响主线程
                reader.readAsBinaryString(resultFile);

                reader.onload = function(e) {
                    var urlData = this.result;
                    document.getElementById("result").innerHTML += urlData;
                };
            }
        }

        function showDataByText() {
            var resultFile = document.getElementById("fileDemo").files[0];
            if (resultFile) {
                var reader = new FileReader();
                reader.readAsText(resultFile,'gb2312');
                reader.onload = function (e) {
                    var urlData = this.result;
                    document.getElementById("result").innerHTML += urlData;
                    console.log(document.getElementById("result"));
                    console.log($("#result"));
//                    $("#result").innerHTML += urlData;
                };
            }
        }

        function createFunctions(){
            var result = new Array();
            for(var i=0;i<10;i++){
                result[i] = function(){
                    return i;
                };
            }

            return result;
        }

        function createFunctions(){
            var result = new Array();
            for(var i=0;i<10;i++){
              result[i] = function(num){
                  return function(){
                      return num;
                  };
              }(i);
            }

            return result;
        }

        console.log(createFunctions());
//        alert("function:"+createFunctions());
    </script>

</head>

<body>
<!--<script>-->
<!--//    document.write("<h1>This is a heading</h1>");-->
<!--//    document.write("<p>This is a paragraph</p>");-->
<!--//    alert("My First JavaScript");-->
<!--</script>-->
<!--<h1>My Web Page</h1>-->
<!--<p id="demo">A Paragraph</p>-->
<!--<button type="button" onclick="myFunction()">Try it</button>-->

<!--2-->
<!--<h1>My Web Page</h1>-->
<!--<p id="demo">A Paragraph</p>-->
<!--<button type="button" onclick="myFunction()">Try it</button>-->
<!--<script>-->
    <!--function myFunction()-->
    <!--{-->
        <!--document.getElementById("demo").innerHTML="My First JavaScript Function";-->
    <!--}-->
<!--</script>-->
<script src="myScript.js"></script>

<h2>AJAX</h2>
<!--<button type="button" onclick="loadXMLDoc()">请求数据</button>-->
<div>
    <button>Click me</button>
</div>

<div id="myDiv"></div>
<input type="file" name="fileDemo" id="fileDemo" multiple/>
<input type="button" value="readAsDataURL" id="readAsDataURL" onclick="showDataByURL();"/>
<input type="button" value="readAsBinaryString"  id="readAsBinaryString" onclick="showDataByBinaryString();"/>
<input type="button" value="readAsText"  id="readAsText" onclick="showDataByText();"/>
<div id="result">

</div>
</body>
</html>